<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="author" content="" />
    <!-- <meta name="robots" content="noindex, nofollow" /> -->
    <!-- <meta name="referrer" content="origin" /> -->

    <!-- styles -->
    <link rel="icon" type="image/x-icon" href="./static/favicon.png" />
    <link rel="stylesheet" href="./styles/common.css" />
    <link rel="stylesheet" href="./styles/home.css" />
    <style>
        body {
            background-color: lightgrey;
        }
    </style>
</head>

<body>
    <div>
        <div class="row" style="position: relative">
            <div class="col-12">
                <h1 class="text-center">eurostadium.net</h1>
                <h3 class="text-center">Football stadiums across Europe</h3>
                <!-- <button hx-on:click="toggleMap()">Toggle map</button> -->
                <button hx-on:click="displayMap('europe-with-russia')">Go to Europe map</button>
                <button hx-on:click="displayMap('countries/germany')">Go to Germany map</button>
                <button hx-on:click="calculateSVGCoord()">Calculate SVG coord</button>
                <a href="tests/modal.html">Modal</a>
                <br /><br />
            </div>
            <div id="svgWrapper" class="col-6" style="border: 0px solid green">
                <object type="image/svg+xml" id="svgObject"
                    style="width: 100%; border: 2px dashed blue; height: 400px;">
                    <img src="./images/no-image.png" />
                </object>
                <div id="tooltip" class=""></div>
            </div>
            <div class="col-4 border-3">
                <button hx-on:click="displayStadiums('all')">All teams</button><br />
                <button hx-on:click="displayStadiums('first_league')">Top league teams</button><br />
                <button hx-on:click="displayStadiums('second_league')">2nd league teams</button><br />
                <button hx-on:click="displayStadiums('sm')">
                    < 20 000</button><br />
                        <button hx-on:click="displayStadiums('md')">20 000 < 40 000</button><br />
                                <button hx-on:click="displayStadiums('lg')">40 000 < 60 000</button><br />
                                        <button hx-on:click="displayStadiums('xl')">> 60 000</button><br />
            </div>
        </div>
        <div class="row">
            <form id="my-form" action="https://formspree.io/f/movaqpky" method="POST">
                <label>Email:</label>
                <input type="email" name="email" />
                <label>Message:</label>
                <input type="text" name="message" />
                <button id="my-form-button">Submit</button>
                <p id="my-form-status"></p>
            </form>
        </div>
    </div>

    <!-- scripts -->
    <!-- htmx -->
    <script src="https://unpkg.com/htmx.org@1.9.12"></script>
    <!-- Zoom & pan svg -->
    <script src="./svg-pan-zoom.min.js"></script>

    <!-- <script src="/js/index.js"></script> -->

    <!-- <script src="/js/index2.js"></script> -->

    <script src="/js/index3.js"></script>

    <script>
        const calculateSVGCoord = async () => {
            console.log('calcultateSVGCoord')
            const country = 'finland'
            const data1 = await fetch(`./js/countriesSvgMapCoord.json`)
            const coordData = await data1.json()
            console.log('coordData: ', coordData)
            // return
            const data2 = await fetch(`./teams/${country}.json`)
            const teams = await data2.json()
            console.log('teams: ', teams);
            // const teamId = 531
            const array = []

            const lng_min = coordData[country]['leftLongitude']
            const lng_max = coordData[country]['rightLongitude']
            const lat_min = coordData[country]['bottomLatitude']
            const lat_max = coordData[country]['topLatitude']
            const x_max = coordData[country]['xMax']
            const y_max = coordData[country]['yMax']
            // console.log('lng_min: ', lng_min)
            // return

            for (let i = 0; i < teams.length; i++) {
                let obj = {}
                obj['venueId'] = teams[i]['venue']['api_football_id']
                obj['x'] = (((teams[i]['venue']['lng'] - lng_min) * x_max) / (lng_max - lng_min)).toFixed(1)
                obj['y'] = (((lat_max - teams[i]['venue']['lat']) * y_max) / (lat_max - lat_min)).toFixed(1)
                array.push(obj)
            }

            console.log('array: ', array)

        }
    </script>
</body>

</html>