<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="description" content="" />
        <meta name="keywords" content="" />
        <meta name="author" content="" />
        <!-- <meta name="robots" content="noindex, nofollow" /> -->
        <!-- <meta name="referrer" content="origin" /> -->

        <!-- styles -->
        <link rel="icon" type="image/x-icon" href="/static/favicon.png" />
        <link rel="stylesheet" href="styles/common.css" />
        <link rel="stylesheet" href="./styles/home.css" />
        <style></style>
    </head>

    <body>
        <div>
            <div class="row" style="position: relative">
                <div class="col-12">
                    <h1 style="text-align: center">SVG Example</h1>
                    <button hx-on:click="toggleMap()">Toggle map</button>
                    <br /><br />
                </div>
                <div class="col-4 border-2" id="svgWrapper">
                    <object type="image/svg+xml" id="svgObject">
                        <img src="/images/no-image.png" />
                    </object>
                </div>
                <!-- <div class="col-3 border-3">
                    <object data="/images/svg/france.svg" type="image/svg+xml">
                        <img src="/images/no-image.png" />
                    </object>
                </div> -->
                <div class="tooltip" id="" onMouseLeave="handleMouseLeaveTooltip">
                    <h6>Tooltip</h6>
                </div>
            </div>
            <div class="row"></div>
        </div>

        <!-- scripts -->
        <!-- htmx -->
        <script src="https://unpkg.com/htmx.org@1.9.12"></script>

        <!-- <script src="/scripts/index.js"></script> -->

        <script></script>

        <script>
            window.onload = (event) => {
                console.log('page is fully loaded')

                const abc = document.getElementById('svgObject')
                console.log('abc: ', abc)
                abc.data = `/images/svg/germany.svg`
            }

            let map = 'germany.svg'
            const toggleMap = () => {
                console.log('toggleMap')
                if (map == 'germany.svg') {
                    map = 'europe-color.svg'
                } else {
                    map = 'germany.svg'
                }
            }
        </script>

        <script>
            svgObject.addEventListener(
                'load',
                function () {
                    const svgObject = document.getElementById('svgObject')
                    const svgContent = svgObject.contentDocument

                    svgContent.addEventListener(
                        'click',
                        function (e) {
                            console.log('e1: ', e)
                            const path = e.target.closest('path')
                            if (path) {
                            const region = path.getAttribute('data-title')
                        console.log('region: ', region)
                            }
                        },
                        false
                    )

                    var elements = svgContent.getElementsByClassName('city')
                    console.log('elements: ', elements)

                    var myFunction = function () {
                        var city = this.getAttribute('data-city')
                        console.log('city: ', city)
                    }

                    for (var i = 0; i < elements.length; i++) {
                        elements[i].addEventListener('click', myFunction, false)
                    }
                },
                false
            )
        </script>

        <script>
            const handleMouseLeaveTooltip = () => {
                console.log('handMouseLeaveTooltip')
            }
        </script>

        <script>
        </script>
    </body>
</html>
