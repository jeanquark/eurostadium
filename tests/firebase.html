<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="author" content="" />
    <meta name="robots" content="noindex, nofollow" />
    <!-- <meta name="referrer" content="origin" /> -->

    <!-- styles -->
    <link rel="icon" type="image/x-icon" href="/static/favicon.png" />
    <link rel="stylesheet" href="../styles/common.css" />
    <link rel="stylesheet" href="../styles/home.css" />
    <style>

    </style>
</head>

<body>
    <div>
        <div class="row">
            <div class="col-12">
                <h1 class="text-center">Firebase example</h1>
                <a href="/">&larr; Go to home</a><br /><br />
            </div>
        </div>
        <div class="row">
            <button hx-on:click="getLeagues()">Get leagues from Firebase</button>
        </div>
    </div>


    <!-- scripts -->
    <!-- htmx -->
    <script src="https://unpkg.com/htmx.org@1.9.12"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.1.2/firebase-firestore.js"></script>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyDyVXQ8WotawTgnhsqtcIplCeThjbVIpc4",
            authDomain: "eurostadium-895f4.firebaseapp.com",
            projectId: "eurostadium-895f4",
            storageBucket: "eurostadium-895f4.appspot.com",
            messagingSenderId: "1059997861153",
            appId: "1:1059997861153:web:5d98d07ca2367bc215aa60"
        };

        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
    </script>

    <script>
        const getLeagues = async () => {
            console.log('getLeagues')
            let leagues = []
            const leaguesRef = db.collection('leagues')
            const snapshot = await leaguesRef.get()
            snapshot.forEach(doc => leagues.push({ id: doc.id, ...doc.data()}))
            console.log('leagues: ', leagues)
            // return
            // Get a list of leagues from your database

            // const leaguesCol = collection(db, 'leagues');
            // const leagueSnapshot = await getDocs(leaguesCol);
            // const leaguesList = leagueSnapshot.docs.map(doc => doc.data());
            // return leaguesList;
        }
    </script>

    <!-- <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.9.0/firebase-app.js';
        import { getFirestore, collection, getDocs } from 'https://www.gstatic.com/firebasejs/10.9.0/firebase-firestore.js';
        // Follow this pattern to import other Firebase services
        // import { } from 'firebase/<service>';
        // TODO: Replace the following with your app's Firebase project configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDyVXQ8WotawTgnhsqtcIplCeThjbVIpc4",
            authDomain: "eurostadium-895f4.firebaseapp.com",
            projectId: "eurostadium-895f4",
            storageBucket: "eurostadium-895f4.appspot.com",
            messagingSenderId: "1059997861153",
            appId: "1:1059997861153:web:5d98d07ca2367bc215aa60"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        
    </script> -->


</body>

</html>